<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Debouncing</title>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54=" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="wrapper">
        <h2>Debouncing</h2>
        <p>Debouncing -  это обертка для любой функции, вызовы которой должны происходить только после заданного периода с момента последнего обращения к debouncing.
            Например debouncing(todo, 1000) должно запускать функцию todo по истечении 1000 миллисекунд с момента последнего вызова debouncing.
            Но с важной особенностью:
        </p>
        <p>Если запрос на выполнение функции (todo) поступают чаще, чем раз в период (1000), 
            то последний запрос перезаписывает предыдущий. Т.е. актуальным всегда остается только один запрос,
            котоый в итоге и будет выполнен.</p>
            <p>PS - подобная обертка для функции является паттерном "Декоратор". См. <a href="https://ru.wikipedia.org/wiki/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">паттерны в программировании</a></p>            
            <p>Пример debouncing в библиотеке  <a href="https://lodash.com/docs/4.17.10#debounce">lodash</a></p>
            <div><pre class="code">
HTML
&lt;script 
    src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"&gt;
&lt;script&gt;
JS
function updateData () { ...}                
window.addEventListener('scroll', _.debounce(updateData, 100))  
            </pre></div>
            <h4>Demo</h4>
            <div class="code">Default: window.pageYOffset = <span class="getScrollYN  get"></span></div>
            <div class="code">Debounce: window.pageYOffset = <span class="getScrollYD  get"></span></div>
        <div class="img-wrp">
            <img src="../img/debouncing2.svg" alt="debouncing">
        </div>
    </div>
   <script src="../js/debouncing.js"></script>
</body>
</html>